openapi: 3.0.3
info:
  title: Signet Sequencer API
  version: 1.0.0
  description: API to obtain a signature for a new Signet block.
servers:
- url: https://sequencer.api.init4.network
paths:
  /signBlock:
    post:
      summary: Obtain a signature for a new Signet block
      description: Obtain a signature for a new Signet block.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                host_block_number:
                  type: number
                  description: The block number of the host.
                host_chain_id:
                  type: number
                  description: The chain ID of the host.
                ru_chain_id:
                  type: number
                  description: The chain ID of the rollup.
                gas_limit:
                  type: number
                  description: The gas limit of the rollup block.
                ru_reward_address:
                  type: string
                  description: The reward address on the rollup for the builder.
                contents:
                  type: string
                  description: keccak256 hash of rlp-encoded transactions in the block.
              required:
              - host_block_number
              - host_chain_id
              - ru_chain_id
              - gas_limit
              - ru_reward_address
              - contents
      responses:
        '200':
          description: A JSON SignResponse
          content:
            application/json:
              schema:
                type: object
                properties:
                  req:
                    type: object
                    description: The inputted SignRequest.
                    properties:
                      host_block_number:
                        type: number
                        description: The block number of the host.
                      host_chain_id:
                        type: number
                        description: The chain ID of the host.
                      ru_chain_id:
                        type: number
                        description: The chain ID of the rollup.
                      gas_limit:
                        type: number
                        description: The gas limit of the rollup block.
                      ru_reward_address:
                        type: string
                        description: The reward address on the rollup for the builder.
                      contents:
                        type: string
                        description: keccak256 hash of rlp-encoded transactions in the block.
                  sig:
                    type: object
                    description: The signature over the SignRequest.
                    properties:
                      v:
                        type: number
                        description: Signature V field.
                      r:
                        type: string
                        description: Signature R field.
                      s:
                        type: string
                        description: Signature S field.
components:
  schemas:
    SignRequest:
      type: object
      properties:
        host_block_number:
          type: number
          description: The block number of the host.
        host_chain_id:
          type: number
          description: The chain ID of the host.
        ru_chain_id:
          type: number
          description: The chain ID of the rollup.
        gas_limit:
          type: number
          description: The gas limit of the rollup block.
        ru_reward_address:
          type: string
          description: The reward address on the rollup for the builder.
        contents:
          type: string
          description: keccak256 hash of rlp-encoded transactions in the block.
      required:
      - host_block_number
      - host_chain_id
      - ru_chain_id
      - gas_limit
      - ru_reward_address
      - contents
    Signature:
      type: object
      properties:
        v:
          type: number
          description: Signature V field.
        r:
          type: string
          description: Signature R field.
        s:
          type: string
          description: Signature S field.
      required:
      - v
      - r
      - s
    SignResponse:
      type: object
      properties:
        req:
          $ref: '#/components/schemas/SignRequest'
        sig:
          $ref: '#/components/schemas/Signature'
      required:
      - req
      - sig
